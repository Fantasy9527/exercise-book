app.directive('mutipleSelectCity',function(){
		return {
			  template:'<div><div style="width:400px;height:auto;position:relative;margin-left:10px;" ng-click="showOrHideSelectArea()">\
							<select ng-if="showSelectArea==1" style="width:100%;height:36px;" ></select>\
							<div ng-if ="showSelectArea!=1" style="border:1px solid #AAAAAA;">\
								<span ng-repeat="selectedCity in selectedCities">\
									<a class="btn btn-default fadeInUp animation-delay1" ng-click="removeSelectedCity(selectedCity.id)">{{selectedCity.name}}<i style="margin-top:-5px;" href="" ng-click="removeSelectedCity(selectedCity.id)">x</i></a>\
								</span>\
							</div>\
						</div>\
						<div class="form-group fadeInUp animation-delay1" style="z-index:9999;border:1px solid #AAAAAA; width:400px;height:300px;margin-left:10px;position:absolute;overflow-x:auto;background-color:#F9F9F9;" ng-if="showingView==1" >\
							<ul ng-repeat="province in provinces" label="province.name" class="list-inline" style="margin-left:10px;">\
								<ul class="list-inline" style="font-weight:bold;">{{province.name}}</ul>\
								<li ng-repeat="city in province.cities" style="width:25%;" ng-mouseover="mouseOver(city.id)" ng-click="selectCity(city.id)" >\
									<a class="btn" ng-class="{\'mutiple-selected\':city.active==1,\'getFocus\':city.id==isFocus}" href="">{{city.name}}</a>\
								</li>\
							</ul>\
						</div></div>',
				replace:true,
				transclude:true,
				scope:true,
				link:function(scope,element,attrs){
					scope.showingView = -1;
					scope.selectedCities = [];
					scope.isFocus = -1;
					/*判断某次点击事件是否是在操作div中的button*/
					scope.isOperateButton = false;
					scope.showSelectArea = 1;
					scope.provinces = [{"id":1,"country":1,"name":"北京","order":1,"cities":[{"id":1,"country":1,"province":1,"name":"北京市","order":1}]},{"id":2,"country":1,"name":"上海","order":2,"cities":[{"id":2,"country":1,"province":2,"name":"上海市","order":1}]},{"id":3,"country":1,"name":"天津","order":3,"cities":[{"id":3,"country":1,"province":3,"name":"天津市","order":1}]},{"id":4,"country":1,"name":"重庆","order":4,"cities":[{"id":4,"country":1,"province":4,"name":"重庆市","order":1}]},{"id":5,"country":1,"name":"河北","order":5,"cities":[{"id":5,"country":1,"province":5,"name":"石家庄市","order":1},{"id":6,"country":1,"province":5,"name":"邯郸市","order":2},{"id":7,"country":1,"province":5,"name":"邢台市","order":3},{"id":8,"country":1,"province":5,"name":"保定市","order":4},{"id":9,"country":1,"province":5,"name":"张家口市","order":5},{"id":10,"country":1,"province":5,"name":"承德市","order":6},{"id":11,"country":1,"province":5,"name":"秦皇岛市","order":7},{"id":12,"country":1,"province":5,"name":"唐山市","order":8},{"id":13,"country":1,"province":5,"name":"沧州市","order":9},{"id":14,"country":1,"province":5,"name":"廊坊市","order":10},{"id":15,"country":1,"province":5,"name":"衡水市","order":11}]},{"id":6,"country":1,"name":"山西","order":6,"cities":[{"id":16,"country":1,"province":6,"name":"太原市","order":1},{"id":17,"country":1,"province":6,"name":"大同市","order":2},{"id":18,"country":1,"province":6,"name":"阳泉市","order":3},{"id":19,"country":1,"province":6,"name":"晋城市","order":4},{"id":20,"country":1,"province":6,"name":"朔州市","order":5},{"id":21,"country":1,"province":6,"name":"晋中市","order":6},{"id":22,"country":1,"province":6,"name":"忻州市","order":7},{"id":23,"country":1,"province":6,"name":"吕梁市","order":8},{"id":24,"country":1,"province":6,"name":"临汾市","order":9},{"id":25,"country":1,"province":6,"name":"运城市","order":10},{"id":26,"country":1,"province":6,"name":"长治市","order":11}]},{"id":7,"country":1,"name":"河南","order":7,"cities":[{"id":27,"country":1,"province":7,"name":"郑州市","order":1},{"id":28,"country":1,"province":7,"name":"开封市","order":2},{"id":29,"country":1,"province":7,"name":"洛阳市","order":3},{"id":30,"country":1,"province":7,"name":"平顶山市","order":4},{"id":31,"country":1,"province":7,"name":"焦作市","order":5},{"id":32,"country":1,"province":7,"name":"鹤壁市","order":6},{"id":33,"country":1,"province":7,"name":"新乡市","order":7},{"id":34,"country":1,"province":7,"name":"安阳市","order":8},{"id":35,"country":1,"province":7,"name":"濮阳市","order":9},{"id":36,"country":1,"province":7,"name":"许昌市","order":10},{"id":37,"country":1,"province":7,"name":"漯河市","order":11},{"id":38,"country":1,"province":7,"name":"三门峡市","order":12},{"id":39,"country":1,"province":7,"name":"南阳市","order":13},{"id":40,"country":1,"province":7,"name":"商丘市","order":14},{"id":41,"country":1,"province":7,"name":"周口市","order":15},{"id":42,"country":1,"province":7,"name":"驻马店市","order":16},{"id":43,"country":1,"province":7,"name":"信阳市","order":17},{"id":44,"country":1,"province":7,"name":"济源市","order":18}]},{"id":8,"country":1,"name":"辽宁","order":8,"cities":[{"id":45,"country":1,"province":8,"name":"沈阳市","order":1},{"id":46,"country":1,"province":8,"name":"大连市","order":2},{"id":47,"country":1,"province":8,"name":"鞍山市","order":3},{"id":48,"country":1,"province":8,"name":"抚顺市","order":4},{"id":49,"country":1,"province":8,"name":"本溪市","order":5},{"id":50,"country":1,"province":8,"name":"丹东市","order":6},{"id":51,"country":1,"province":8,"name":"锦州市","order":7},{"id":52,"country":1,"province":8,"name":"葫芦岛市","order":8},{"id":53,"country":1,"province":8,"name":"营口市","order":9},{"id":54,"country":1,"province":8,"name":"盘锦市","order":10},{"id":55,"country":1,"province":8,"name":"阜新市","order":11},{"id":56,"country":1,"province":8,"name":"辽阳市","order":12},{"id":57,"country":1,"province":8,"name":"朝阳市","order":13},{"id":58,"country":1,"province":8,"name":"铁岭市","order":14}]},{"id":9,"country":1,"name":"吉林","order":9,"cities":[{"id":59,"country":1,"province":9,"name":"长春市","order":1},{"id":60,"country":1,"province":9,"name":"吉林市","order":2},{"id":61,"country":1,"province":9,"name":"四平市","order":3},{"id":62,"country":1,"province":9,"name":"辽源市","order":4},{"id":63,"country":1,"province":9,"name":"通化市","order":5},{"id":64,"country":1,"province":9,"name":"白山市","order":6},{"id":65,"country":1,"province":9,"name":"松原市","order":7},{"id":66,"country":1,"province":9,"name":"白城市","order":8},{"id":67,"country":1,"province":9,"name":"延边州","order":9}]},{"id":10,"country":1,"name":"黑龙江","order":10,"cities":[{"id":68,"country":1,"province":10,"name":"哈尔滨市","order":1},{"id":69,"country":1,"province":10,"name":"鹤岗市","order":2},{"id":70,"country":1,"province":10,"name":"鸡西市","order":3},{"id":71,"country":1,"province":10,"name":"大庆市","order":4},{"id":72,"country":1,"province":10,"name":"伊春市","order":5},{"id":73,"country":1,"province":10,"name":"牡丹江市","order":6},{"id":74,"country":1,"province":10,"name":"佳木斯市","order":7},{"id":75,"country":1,"province":10,"name":"七台河市","order":8},{"id":76,"country":1,"province":10,"name":"黑河市","order":9},{"id":77,"country":1,"province":10,"name":"绥化市","order":10},{"id":78,"country":1,"province":10,"name":"齐齐哈尔市","order":11},{"id":79,"country":1,"province":10,"name":"双鸭山市","order":12},{"id":80,"country":1,"province":10,"name":"大兴安岭地区","order":13}]},{"id":11,"country":1,"name":"内蒙古","order":11,"cities":[{"id":81,"country":1,"province":11,"name":"呼和浩特市","order":1},{"id":82,"country":1,"province":11,"name":"包头市","order":2},{"id":83,"country":1,"province":11,"name":"乌海市","order":3},{"id":84,"country":1,"province":11,"name":"赤峰市","order":4},{"id":85,"country":1,"province":11,"name":"乌兰察布市","order":5},{"id":86,"country":1,"province":11,"name":"锡林郭勒盟","order":6},{"id":87,"country":1,"province":11,"name":"呼伦贝尔市","order":7},{"id":88,"country":1,"province":11,"name":"鄂尔多斯市","order":8},{"id":89,"country":1,"province":11,"name":"巴彦淖尔市","order":9},{"id":90,"country":1,"province":11,"name":"阿拉善盟","order":10},{"id":91,"country":1,"province":11,"name":"兴安盟","order":11},{"id":92,"country":1,"province":11,"name":"通辽市","order":12}]},{"id":12,"country":1,"name":"江苏","order":12,"cities":[{"id":93,"country":1,"province":12,"name":"南京市","order":1},{"id":94,"country":1,"province":12,"name":"徐州市","order":2},{"id":95,"country":1,"province":12,"name":"连云港市","order":3},{"id":96,"country":1,"province":12,"name":"淮安市","order":4},{"id":97,"country":1,"province":12,"name":"宿迁市","order":5},{"id":98,"country":1,"province":12,"name":"盐城市","order":6},{"id":99,"country":1,"province":12,"name":"扬州市","order":7},{"id":100,"country":1,"province":12,"name":"泰州市","order":8},{"id":101,"country":1,"province":12,"name":"南通市","order":9},{"id":102,"country":1,"province":12,"name":"镇江市","order":10},{"id":103,"country":1,"province":12,"name":"常州市","order":11},{"id":104,"country":1,"province":12,"name":"无锡市","order":12},{"id":105,"country":1,"province":12,"name":"苏州市","order":13}]},{"id":13,"country":1,"name":"山东","order":13,"cities":[{"id":106,"country":1,"province":13,"name":"济南市","order":1},{"id":107,"country":1,"province":13,"name":"济宁市","order":2},{"id":108,"country":1,"province":13,"name":"青岛市","order":3},{"id":109,"country":1,"province":13,"name":"淄博市","order":4},{"id":110,"country":1,"province":13,"name":"枣庄市","order":5},{"id":111,"country":1,"province":13,"name":"东营市","order":6},{"id":112,"country":1,"province":13,"name":"潍坊市","order":7},{"id":113,"country":1,"province":13,"name":"烟台市","order":8},{"id":114,"country":1,"province":13,"name":"威海市","order":9},{"id":115,"country":1,"province":13,"name":"莱芜市","order":10},{"id":116,"country":1,"province":13,"name":"德州市","order":11},{"id":117,"country":1,"province":13,"name":"临沂市","order":12},{"id":118,"country":1,"province":13,"name":"聊城市","order":13},{"id":119,"country":1,"province":13,"name":"滨州市","order":14},{"id":120,"country":1,"province":13,"name":"菏泽市","order":15},{"id":121,"country":1,"province":13,"name":"日照市","order":16},{"id":122,"country":1,"province":13,"name":"泰安市","order":16}]},{"id":14,"country":1,"name":"安徽","order":14,"cities":[{"id":123,"country":1,"province":14,"name":"合肥市","order":1},{"id":124,"country":1,"province":14,"name":"黄山市","order":2},{"id":125,"country":1,"province":14,"name":"滁州市","order":3},{"id":126,"country":1,"province":14,"name":"阜阳市","order":4},{"id":127,"country":1,"province":14,"name":"毫州市","order":5},{"id":128,"country":1,"province":14,"name":"宿州市","order":6},{"id":129,"country":1,"province":14,"name":"池州市","order":7},{"id":130,"country":1,"province":14,"name":"六安市","order":8},{"id":131,"country":1,"province":14,"name":"宣城市","order":9},{"id":132,"country":1,"province":14,"name":"铜陵市","order":10},{"id":133,"country":1,"province":14,"name":"淮南市","order":11},{"id":134,"country":1,"province":14,"name":"淮北市","order":12},{"id":135,"country":1,"province":14,"name":"芜湖市","order":13},{"id":136,"country":1,"province":14,"name":"蚌埠市","order":14},{"id":137,"country":1,"province":14,"name":"马鞍山市","order":15},{"id":138,"country":1,"province":14,"name":"安庆市","order":16}]},{"id":15,"country":1,"name":"浙江","order":15,"cities":[{"id":139,"country":1,"province":15,"name":"杭州市","order":1},{"id":140,"country":1,"province":15,"name":"宁波市","order":2},{"id":141,"country":1,"province":15,"name":"衢州市","order":3},{"id":142,"country":1,"province":15,"name":"丽水市","order":4},{"id":143,"country":1,"province":15,"name":"台州市","order":5},{"id":144,"country":1,"province":15,"name":"舟山市","order":6},{"id":145,"country":1,"province":15,"name":"温州市","order":7},{"id":146,"country":1,"province":15,"name":"嘉兴市","order":8},{"id":147,"country":1,"province":15,"name":"湖州市","order":9},{"id":148,"country":1,"province":15,"name":"绍兴市","order":10},{"id":149,"country":1,"province":15,"name":"金华市","order":11}]},{"id":16,"country":1,"name":"福建","order":16,"cities":[{"id":150,"country":1,"province":16,"name":"福州市","order":1},{"id":151,"country":1,"province":16,"name":"厦门市","order":2},{"id":152,"country":1,"province":16,"name":"三明市","order":3},{"id":153,"country":1,"province":16,"name":"莆田市","order":4},{"id":154,"country":1,"province":16,"name":"泉州市","order":5},{"id":155,"country":1,"province":16,"name":"漳州市","order":6},{"id":156,"country":1,"province":16,"name":"南平市","order":7},{"id":157,"country":1,"province":16,"name":"龙岩市","order":8},{"id":158,"country":1,"province":16,"name":"宁德市","order":9}]},{"id":17,"country":1,"name":"湖北","order":17,"cities":[{"id":159,"country":1,"province":17,"name":"武汉市","order":1},{"id":160,"country":1,"province":17,"name":"孝感市","order":2},{"id":161,"country":1,"province":17,"name":"黄冈市","order":3},{"id":162,"country":1,"province":17,"name":"咸宁市","order":4},{"id":163,"country":1,"province":17,"name":"恩施市","order":5},{"id":164,"country":1,"province":17,"name":"鄂州市","order":6},{"id":165,"country":1,"province":17,"name":"荆门市","order":7},{"id":166,"country":1,"province":17,"name":"随州市","order":8},{"id":167,"country":1,"province":17,"name":"神龙架林区","order":9},{"id":168,"country":1,"province":17,"name":"黄石市","order":10},{"id":169,"country":1,"province":17,"name":"襄阳市","order":11},{"id":170,"country":1,"province":17,"name":"十堰市","order":12},{"id":171,"country":1,"province":17,"name":"荆州市","order":13},{"id":172,"country":1,"province":17,"name":"宜昌市","order":14},{"id":173,"country":1,"province":17,"name":"潜江市","order":15},{"id":174,"country":1,"province":17,"name":"天门市","order":16},{"id":175,"country":1,"province":17,"name":"仙桃市","order":17}]},{"id":18,"country":1,"name":"湖南","order":18,"cities":[{"id":176,"country":1,"province":18,"name":"长沙市","order":1},{"id":177,"country":1,"province":18,"name":"株洲市","order":2},{"id":178,"country":1,"province":18,"name":"湘潭市","order":3},{"id":179,"country":1,"province":18,"name":"韶山市","order":4},{"id":180,"country":1,"province":18,"name":"衡阳市","order":5},{"id":181,"country":1,"province":18,"name":"邵阳市","order":6},{"id":182,"country":1,"province":18,"name":"岳阳市","order":7},{"id":183,"country":1,"province":18,"name":"常德市","order":8},{"id":184,"country":1,"province":18,"name":"张家界市","order":9},{"id":185,"country":1,"province":18,"name":"郴州市","order":10},{"id":186,"country":1,"province":18,"name":"益阳市","order":11},{"id":187,"country":1,"province":18,"name":"永州市","order":12},{"id":188,"country":1,"province":18,"name":"怀化市","order":13},{"id":189,"country":1,"province":18,"name":"娄底市","order":14},{"id":190,"country":1,"province":18,"name":"湘西州","order":15}]},{"id":19,"country":1,"name":"广东","order":19,"cities":[{"id":191,"country":1,"province":19,"name":"广州市","order":1},{"id":192,"country":1,"province":19,"name":"深圳市","order":2},{"id":193,"country":1,"province":19,"name":"珠海市","order":3},{"id":194,"country":1,"province":19,"name":"汕头市","order":4},{"id":195,"country":1,"province":19,"name":"韶关市","order":5},{"id":196,"country":1,"province":19,"name":"河源市","order":6},{"id":197,"country":1,"province":19,"name":"梅州市","order":7},{"id":198,"country":1,"province":19,"name":"揭阳市","order":8},{"id":199,"country":1,"province":19,"name":"惠州市","order":9},{"id":200,"country":1,"province":19,"name":"汕尾市","order":10},{"id":201,"country":1,"province":19,"name":"东莞市","order":11},{"id":202,"country":1,"province":19,"name":"中山市","order":12},{"id":203,"country":1,"province":19,"name":"江门市","order":13},{"id":204,"country":1,"province":19,"name":"佛山市","order":14},{"id":205,"country":1,"province":19,"name":"阳江市","order":15},{"id":206,"country":1,"province":19,"name":"湛江市","order":16},{"id":207,"country":1,"province":19,"name":"茂名市","order":17},{"id":208,"country":1,"province":19,"name":"肇庆市","order":18},{"id":209,"country":1,"province":19,"name":"云浮市","order":19},{"id":210,"country":1,"province":19,"name":"清远市","order":20},{"id":211,"country":1,"province":19,"name":"潮州市","order":21}]},{"id":20,"country":1,"name":"广西","order":20,"cities":[{"id":212,"country":1,"province":20,"name":"南宁市","order":1},{"id":213,"country":1,"province":20,"name":"崇左市","order":2},{"id":214,"country":1,"province":20,"name":"柳州市","order":3},{"id":215,"country":1,"province":20,"name":"桂林市","order":4},{"id":216,"country":1,"province":20,"name":"梧州市","order":5},{"id":217,"country":1,"province":20,"name":"北海市","order":6},{"id":218,"country":1,"province":20,"name":"防城港市","order":7},{"id":219,"country":1,"province":20,"name":"钦州市","order":8},{"id":220,"country":1,"province":20,"name":"贵港市","order":9},{"id":221,"country":1,"province":20,"name":"玉林市","order":10},{"id":222,"country":1,"province":20,"name":"贺州市","order":11},{"id":223,"country":1,"province":20,"name":"百色市","order":12},{"id":224,"country":1,"province":20,"name":"河池市","order":13},{"id":225,"country":1,"province":20,"name":"来宾市","order":14}]},{"id":21,"country":1,"name":"江西","order":21,"cities":[{"id":226,"country":1,"province":21,"name":"南昌市","order":1},{"id":227,"country":1,"province":21,"name":"景德镇市","order":2},{"id":228,"country":1,"province":21,"name":"萍乡市","order":3},{"id":229,"country":1,"province":21,"name":"新余市","order":4},{"id":230,"country":1,"province":21,"name":"九江市","order":5},{"id":231,"country":1,"province":21,"name":"鹰潭市","order":6},{"id":232,"country":1,"province":21,"name":"上饶市","order":7},{"id":233,"country":1,"province":21,"name":"宜春市","order":8},{"id":234,"country":1,"province":21,"name":"抚州市","order":9},{"id":235,"country":1,"province":21,"name":"吉安市","order":10},{"id":236,"country":1,"province":21,"name":"赣州市","order":11}]},{"id":22,"country":1,"name":"四川","order":22,"cities":[{"id":237,"country":1,"province":22,"name":"成都市","order":1},{"id":238,"country":1,"province":22,"name":"凉山州","order":2},{"id":239,"country":1,"province":22,"name":"自贡市","order":3},{"id":240,"country":1,"province":22,"name":"攀枝花市","order":4},{"id":241,"country":1,"province":22,"name":"泸州市","order":5},{"id":242,"country":1,"province":22,"name":"绵阳市","order":6},{"id":243,"country":1,"province":22,"name":"德阳市","order":7},{"id":244,"country":1,"province":22,"name":"广元市","order":8},{"id":245,"country":1,"province":22,"name":"遂宁市","order":9},{"id":246,"country":1,"province":22,"name":"内江市","order":10},{"id":247,"country":1,"province":22,"name":"乐山市","order":11},{"id":248,"country":1,"province":22,"name":"宜宾市","order":12},{"id":249,"country":1,"province":22,"name":"广安市","order":13},{"id":250,"country":1,"province":22,"name":"南充市","order":14},{"id":251,"country":1,"province":22,"name":"达州市","order":15},{"id":252,"country":1,"province":22,"name":"巴中市","order":16},{"id":253,"country":1,"province":22,"name":"雅安市","order":17},{"id":254,"country":1,"province":22,"name":"眉山市","order":18},{"id":255,"country":1,"province":22,"name":"资阳市","order":19},{"id":256,"country":1,"province":22,"name":"阿坝州","order":20},{"id":257,"country":1,"province":22,"name":"甘孜州","order":21}]},{"id":23,"country":1,"name":"海南","order":23,"cities":[{"id":258,"country":1,"province":23,"name":"海口市","order":1},{"id":259,"country":1,"province":23,"name":"三亚市","order":2},{"id":260,"country":1,"province":23,"name":"文昌市","order":3},{"id":261,"country":1,"province":23,"name":"五指山市","order":4},{"id":262,"country":1,"province":23,"name":"临高县","order":5},{"id":263,"country":1,"province":23,"name":"澄迈县","order":6},{"id":264,"country":1,"province":23,"name":"定安县","order":7},{"id":265,"country":1,"province":23,"name":"屯昌县","order":8},{"id":266,"country":1,"province":23,"name":"昌江县","order":9},{"id":267,"country":1,"province":23,"name":"白沙县","order":10},{"id":268,"country":1,"province":23,"name":"琼中县","order":11},{"id":269,"country":1,"province":23,"name":"陵水县","order":12},{"id":270,"country":1,"province":23,"name":"保亭县","order":13},{"id":271,"country":1,"province":23,"name":"乐东县","order":14},{"id":272,"country":1,"province":23,"name":"三沙市","order":15},{"id":273,"country":1,"province":23,"name":"琼海市","order":16},{"id":274,"country":1,"province":23,"name":"万宁市","order":17},{"id":275,"country":1,"province":23,"name":"东方市","order":18},{"id":276,"country":1,"province":23,"name":"漳州市","order":19}]},{"id":24,"country":1,"name":"贵州","order":24,"cities":[{"id":277,"country":1,"province":24,"name":"贵阳市","order":1},{"id":278,"country":1,"province":24,"name":"六盘水市","order":2},{"id":279,"country":1,"province":24,"name":"遵义市","order":3},{"id":280,"country":1,"province":24,"name":"铜仁市","order":4},{"id":281,"country":1,"province":24,"name":"毕节市","order":5},{"id":282,"country":1,"province":24,"name":"安顺市","order":6},{"id":283,"country":1,"province":24,"name":"黔西南州","order":7},{"id":284,"country":1,"province":24,"name":"黔东南州","order":8},{"id":285,"country":1,"province":24,"name":"黔南州","order":9}]},{"id":25,"country":1,"name":"云南","order":25,"cities":[{"id":286,"country":1,"province":25,"name":"昆明市","order":1},{"id":287,"country":1,"province":25,"name":"迪庆州","order":2},{"id":288,"country":1,"province":25,"name":"曲靖市","order":3},{"id":289,"country":1,"province":25,"name":"玉溪市","order":4},{"id":290,"country":1,"province":25,"name":"昭通市","order":5},{"id":291,"country":1,"province":25,"name":"普洱市","order":6},{"id":292,"country":1,"province":25,"name":"临沧市","order":7},{"id":293,"country":1,"province":25,"name":"保山市","order":8},{"id":294,"country":1,"province":25,"name":"丽江市","order":9},{"id":295,"country":1,"province":25,"name":"文山市","order":10},{"id":296,"country":1,"province":25,"name":"红河州","order":11},{"id":297,"country":1,"province":25,"name":"西双版纳州","order":12},{"id":298,"country":1,"province":25,"name":"楚雄州","order":13},{"id":299,"country":1,"province":25,"name":"大理州","order":14},{"id":300,"country":1,"province":25,"name":"德宏州","order":15},{"id":301,"country":1,"province":25,"name":"怒江州","order":16}]},{"id":26,"country":1,"name":"西藏","order":26,"cities":[{"id":302,"country":1,"province":26,"name":"拉萨市","order":1},{"id":303,"country":1,"province":26,"name":"阿里地区","order":2},{"id":304,"country":1,"province":26,"name":"林芝地区","order":3},{"id":305,"country":1,"province":26,"name":"那曲地区","order":4},{"id":306,"country":1,"province":26,"name":"山南地区","order":5},{"id":307,"country":1,"province":26,"name":"昌都地区","order":6},{"id":308,"country":1,"province":26,"name":"日喀则地区","order":7}]},{"id":27,"country":1,"name":"陕西","order":27,"cities":[{"id":309,"country":1,"province":27,"name":"西安市","order":1},{"id":310,"country":1,"province":27,"name":"延安市","order":2},{"id":311,"country":1,"province":27,"name":"汉中市","order":3},{"id":312,"country":1,"province":27,"name":"榆林市","order":4},{"id":313,"country":1,"province":27,"name":"商洛市","order":5},{"id":314,"country":1,"province":27,"name":"安康市","order":6},{"id":315,"country":1,"province":27,"name":"铜川市","order":7},{"id":316,"country":1,"province":27,"name":"宝鸡市","order":8},{"id":317,"country":1,"province":27,"name":"咸阳市","order":9},{"id":318,"country":1,"province":27,"name":"渭南市","order":10}]},{"id":28,"country":1,"name":"甘肃","order":28,"cities":[{"id":319,"country":1,"province":28,"name":"兰州市","order":1},{"id":320,"country":1,"province":28,"name":"庆阳市","order":2},{"id":321,"country":1,"province":28,"name":"陇南市","order":3},{"id":322,"country":1,"province":28,"name":"武威市","order":4},{"id":323,"country":1,"province":28,"name":"张掖市","order":5},{"id":324,"country":1,"province":28,"name":"酒泉市","order":6},{"id":325,"country":1,"province":28,"name":"甘南州","order":7},{"id":326,"country":1,"province":28,"name":"临夏州","order":8},{"id":327,"country":1,"province":28,"name":"定西市","order":9},{"id":328,"country":1,"province":28,"name":"金昌市","order":10},{"id":329,"country":1,"province":28,"name":"白银市","order":11},{"id":330,"country":1,"province":28,"name":"天水市","order":12},{"id":331,"country":1,"province":28,"name":"嘉峪关市","order":13},{"id":332,"country":1,"province":28,"name":"平凉市","order":14}]},{"id":29,"country":1,"name":"青海","order":29,"cities":[{"id":333,"country":1,"province":29,"name":"西宁市","order":1},{"id":334,"country":1,"province":29,"name":"海东地区","order":2},{"id":335,"country":1,"province":29,"name":"海北州","order":3},{"id":336,"country":1,"province":29,"name":"黄南州","order":4},{"id":337,"country":1,"province":29,"name":"海南州","order":5},{"id":338,"country":1,"province":29,"name":"果洛州","order":6},{"id":339,"country":1,"province":29,"name":"玉树州","order":7},{"id":340,"country":1,"province":29,"name":"海西州","order":8}]},{"id":30,"country":1,"name":"宁夏","order":30,"cities":[{"id":341,"country":1,"province":30,"name":"银川市","order":1},{"id":342,"country":1,"province":30,"name":"石嘴山市","order":2},{"id":343,"country":1,"province":30,"name":"吴忠市","order":3},{"id":344,"country":1,"province":30,"name":"固原市","order":4},{"id":345,"country":1,"province":30,"name":"中卫市","order":5}]},{"id":31,"country":1,"name":"新疆","order":31,"cities":[{"id":346,"country":1,"province":31,"name":"乌鲁木齐市","order":1},{"id":347,"country":1,"province":31,"name":"五家渠市","order":2},{"id":348,"country":1,"province":31,"name":"阿拉尔市","order":3},{"id":349,"country":1,"province":31,"name":"图木舒克市","order":4},{"id":350,"country":1,"province":31,"name":"克拉玛依市","order":5},{"id":351,"country":1,"province":31,"name":"石河子市","order":6},{"id":352,"country":1,"province":31,"name":"吐鲁番地区","order":7},{"id":353,"country":1,"province":31,"name":"哈密地区","order":8},{"id":354,"country":1,"province":31,"name":"和田地区","order":9},{"id":355,"country":1,"province":31,"name":"阿克苏地区","order":10},{"id":356,"country":1,"province":31,"name":"喀什地区","order":11},{"id":357,"country":1,"province":31,"name":"克孜勒苏地区","order":12},{"id":358,"country":1,"province":31,"name":"巴音郭楞州","order":13},{"id":359,"country":1,"province":31,"name":"昌吉州","order":14},{"id":360,"country":1,"province":31,"name":"博尔塔拉州","order":15},{"id":361,"country":1,"province":31,"name":"伊犁州","order":16},{"id":362,"country":1,"province":31,"name":"塔城地区","order":17},{"id":363,"country":1,"province":31,"name":"阿勒泰地区","order":18},{"id":364,"country":1,"province":31,"name":"博尔塔拉蒙古","order":19},{"id":365,"country":1,"province":31,"name":"阿里山口口岸","order":20}]},{"id":32,"country":1,"name":"台湾","order":32,"cities":[{"id":366,"country":1,"province":32,"name":"台北市","order":1}]},{"id":33,"country":1,"name":"香港","order":33,"cities":[{"id":367,"country":1,"province":33,"name":"香港特别行政区","order":1}]},{"id":34,"country":1,"name":"澳门","order":34,"cities":[{"id":368,"country":1,"province":34,"name":"澳门特别行政区","order":1}]}]
					
					/*给所有的城市添加一个属性，用于判断是否选中*/
					scope.provinces.forEach(function(province){
						var cities = province.cities;
						cities.forEach(function(city){
							city.active = -1;
						})
					})
					/*隐藏或显示选择区域*/
					scope.showOrHideSelectArea=function(){
						if(scope.isOperateButton == false){
							if(scope.showingView == -1){
								scope.showingView = 1;
							}else if(scope.showingView == 1){
								scope.showingView = -1;
							}
						}
						scope.isOperateButton = false;
					}
					
					/*鼠标移动到城市名称上时，将其高亮*/
					scope.mouseOver=function(val){
						/*若该城市已被选中，则不添加高亮样式*/
						var highLightOption = true;
						scope.selectedCities.forEach(function(city){
							if(city.id==val){
								highLightOption = false;
							}
						});
						if(highLightOption==true){
							scope.isFocus = val;
						}
					}
					
					/*将指定id的城市的状态置为选中*/
					scope.setCityActive=function(id){
						scope.provinces.forEach(function(province){
							var cities = province.cities;
							cities.forEach(function(city){
								if(city.id == id){
									city.active = 1;
									return;
								}
							})
						})
					}
					
					scope.currentCity = {};
					/*根据id获取城市*/
					scope.getCityById=function(id){
						scope.provinces.forEach(function(province){
							province.cities.forEach(function(city){
								if(city.id==id){
									scope.currentCity = city;
									return;
								}
							})
						})
					}
					/*依据id选中城市*/
					scope.selectCity=function(id){

						/*判断用户点击的城市是否已选中*/
						var selectedCities = scope.selectedCities;
						for(var i=0;i<selectedCities.length;i++){
							/*如城市已是被选中状态，直接返回*/
							if(selectedCities[i].id==id){
								return;
							}
						}
						/*将当前选择的城市置为选中状态*/
						scope.setCityActive(id);
						/*获取当前选择的城市*/
						scope.getCityById(id);
						scope.selectedCities.push(scope.currentCity);
						/*移除所有城市的高亮样式*/
						scope.isFocus = -1;
						/*当有城市处于选中状态时，用显示已选中城市的div替换input区域*/
						if(scope.selectedCities.length>0){
							scope.showSelectArea=-1;
						}
					}
		
					
					/*依据id移除城市*/
					scope.removeSelectedCity = function(id){
						scope.isOperateButton = true;
						var cities = scope.selectedCities;
						for(var i=0;i< cities.length;i++){
							if(cities[i].id==id){
								cities.splice(i, 1);
								scope.selectedCities = cities;
								break;
							}
						}
						/*恢复已移除的城市的样式*/
						scope.provinces.forEach(function(province){
							var cities = province.cities;
							cities.forEach(function(city){
								if(city.id == id){
									city.active = -1;
									return;
								}
							})
						})
						/*当所有选择的城市都被移除时，显示input区域*/
						if(scope.selectedCities.length<=0){
							scope.showSelectArea=1;
						}
					}
				}
		}
	})