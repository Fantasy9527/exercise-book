<div class="right-content fadeInDown" ng-hide="isLoding">
  <div class="panel panel-default add-product" id="container">
    <div class="panel-heading">
      <a class="return-up" href="/home/brand/{{brandId}}/system">
        <i class="glyphicon glyphicon-arrow-up"></i> 返回上一级</a>
      <i class="glyphicon glyphicon-bookmark fa-lg"></i> 套餐管理
    </div>
    <div class="panel-body">
      <div class="row">
        <div class="col-md-12">
          <button type="button" ng-click="newSet()" class="btn btn-sm btn-success"><i class="fa fa-plus"></i> 新增套餐</button>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3">
          <div class="input-group gap-top">
            <input type="text" class="form-control input-sm" ng-model="searchData" ng-keypress="enterSearch($event)" placeholder="套餐名字、拼音首字母">
            <div class="input-group-btn">
              <button type="button" class="btn btn-sm btn-success" ng-click="search($event)">搜索套餐</button>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8">
          <table class="table table-striped table-hover gap-top" id="responsiveTable">
            <thead>
              <tr>
                <th style="width:40px">#</th>
                <th class="col-md-4">套餐</th>
                <th class="col-md-3">小类</th>
                <th class="col-md-3">备注</th>
                <th class="col-md-2">操作</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="x in model" ng-click="editData(x)">
                <td>
                  {{($index+1)+pages.pageSize*pages.current}}
                </td>
                <td>
                  <span ng-hide="x.isEdit">{{x.name}}</span>
                  <span ng-show="x.isEdit">
                  <input type="text" ng-model="x.name" class="form-control input-sm" placeholder="套餐名称">
                  </span>
                </td>
                <td>
                  <span ng-hide="x.isEdit">{{x.subgroupName}}</span>
                  <span ng-show="x.isEdit">
                  <select class="form-control input-md" ng-model="x.subgroup" ng-options="y.id as y.name for y in childCombos">
                  </select>
                  </span>

                </td>
                <td>
                  <input ng-show="x.isEdit" type="text" ng-model="x.remark" class="form-control input-sm" placeholder="备注">
                  <span ng-hide="x.isEdit">{{x.remark}}</span>

                </td>
                <td>
                  <a ng-hide="x.isEdit" ng-click="editSet(x.id,$event)" type="button" class="btn btn-sm btn-success"> 编辑套餐</a>
                  <div class="col-md-12 pull-right" ng-show="x.isEdit">
                    <a class="btn btn-info btn-sm" ng-click="saveData(x,$event)">保存</a>
                    <a class="btn btn-default btn-sm" ng-click="cancelEidit(x,$event)">取消</a>
                    <a class="btn btn-danger btn-sm pull-right" ng-hide="x.isNew" ng-click="delData(x,$index)">删除</a>
                  </div>


                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-8">
          <div class="clearfix text-center">
            <ul class="pagination" ng-hide="pages.max==0">
              <li ng-hide="pages.previous==null" ng-click="pagePrevious(auditlogData.pages.previous)"><a href="">«</a>
              </li>
              <li ng-repeat="x in pageShowing" ng-class="{active:pages.current==x.name-1}" ng-click="indexPage(x.name)">
                <a href="">
							{{x.name}}
							<!--<span ng-show="x==null">...</span>-->
						</a>
              </li>
              <li ng-hide="pages.next==null" ng-click="pageNext(pages.next)"><a href="">»</a>
              </li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>

<div class="row">
  <div class="col-lg-8 f-pr">
    <div class="spinner" ng-show="isLoding">
      <div class="rect1"></div>
      <div class="rect2"></div>
      <div class="rect3"></div>
      <div class="rect4"></div>
      <div class="rect5"></div>
    </div>

  </div>
</div>